{% extends 'base.html' %}
{% load static %}

{% block content %}
    <div class="row" style="margin-top: 14px;">
        <div class="col-lg-2"></div>
        <div class="col-lg-10">
            <div class="breadcrumb ">
                Главная / {{ event }} / ..
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-2">
            <ul>
                <li><span class="_icon-update"></span>Обновить проект</li>
                <li><span class="_icon-download"></span>Скачать файл</li>
            </ul>
        </div>
        <div class="col-lg-10">
            <div class="project-detail">
                <div class="common-block project-detail-info" style="padding-top: 40px;">
                    <div class="row" style="margin-bottom: 30px;">
                        <div class="col-lg-4 text-center">
                            <div class="project-img">
                                <img src="{% static '/img/project_empty.svg' %}" alt="" width="120" height="120">
                            </div>
                            <div class="project-title">{{ document.title }}</div>
                        </div>
                        <div class="col-lg-8">
                            <div class="row">
                                <div class="col-lg-4 text-center text-lg-start">
                                    <div class="project-info-title">
                                        План
                                    </div>
                                    <div class="project-info-value">
                                        34
                                        <div class="project-value-changed">+0</div>
                                    </div>
                                </div>
                                <div class="col-lg-4 text-center text-lg-start">
                                    <div class="project-info-title">
                                        Статус
                                    </div>
                                    <div class="project-info-value">
                                        26
                                        <div class="project-value-changed">+3</div>
                                    </div>
                                </div>
                                <div class="col-lg-4 text-center text-lg-start">
                                    <div class="project-info-title">
                                        Дедлайн
                                    </div>
                                    <div class="project-info-value">
                                        14
                                        <div class="project-value-changed">-7</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12 text-center">
                            <span class="c-secondary">Последнее обновление {{ document.date_time_of_updated }}</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="project-graph">
                <div class="common-block project-graph-detail">
                    <div class="project-graph-title text-center"><span>График изменения проекта</span></div>
                    <div class="project-graph-colors">
                        <div class="color text-center">
                            <div class="project-graph-color" style="background: #98B2E5;"></div>
                            <div class="color-title">План</div>
                        </div>
                        <div class="color text-center">
                            <div class="project-graph-color" style="background: #ED9C87;"></div>
                            <div class="color-title">Статус</div>
                        </div>
                        <div class="color text-center">
                            <div class="project-graph-color" style="background: #FECA7E;"></div>
                            <div class="color-title">Дедлайн</div>
                        </div>
                    </div>
                    <div class="project-graph">
                        <div id="chart">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {#    <div class="d-flex" style="margin-top: 10px;">#}
    {##}
    {#        <div>#}
    {#            <div>#}
    {##}
    {#                <a title="Скачать" style="padding-right: 2px; text-decoration:None"#}
    {#                   href="{% url 'download' document.pk %}">#}
    {#                    <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor"#}
    {#                         class="bi bi-arrow-down-square" viewBox="0 0 16 16">#}
    {#                        <path fill-rule="evenodd"#}
    {#                              d="M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"/>#}
    {#                    </svg>#}
    {#                </a>#}
    {#                <span>{{ document.title }}</span>#}
    {#                <span>Последнее обновление: {{ document.date_time_of_updated }}</span>#}
    {##}
    {##}
    {#            </div>#}
    {#        </div>#}
    {##}
    {#        <div>#}
    <div id="chart">

    </div>
    {#        </div>#}
    {#    </div>#}
    <script>


        var vf =
        {{ data|safe }}


        var chart = c3.generate({
            bindto: '#chart',

            data: {

                columns: [

                    vf['y1'],
                    vf['y2'],
                    vf['y3'],
                ],

                types: {
                    "Статус": "bar",
                    "Дедлайн": "bar",
                    "План": "bar",
                }
            },

        });

    </script>
{% endblock %}

